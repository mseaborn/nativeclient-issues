<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;A0EAQn47eCl7ImA9WhBRFUU.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/full/3255</ns0:id><ns0:author>
			<ns0:name>dsch...@google.com</ns0:name><ns0:uri>/u/104270846665912603141/</ns0:uri></ns0:author><ns0:content type="html">LLVM r169304 change the Dwarf debug info such that function prologues are now marked with the is_stmt flag (this resulted in passing more of gdb 7.5 testsuite). With nacl-gdb this causes breakpoints set on function entry to break at the first instruction of the function (previously it would break after the prologue). This breaks run_gdb_print_symbol_test, run_gdb_stack_trace_test and run_gdb_change_variable_test because they break before the variables they inspect/modify are set up.

I'm going to disable them for now so I can merge and bring down our bundling support and other things that Eli has working on upstream, but to make them work again we have a couple of options:

1) undo this change and keep a one-line localmod, at least until we upgrade nacl-gdb to 7.5, or until more debug-related fixes go in upstream (debug info is still not great in LLVM and is an area of active development).

2) change the test to break on the first line of the function rather than the function name. I have verified that this works, but of course it would make maintenance of the test harder. We could perhaps use gdb's ability to break on a label, or use some kind of magic comment marker in the source and let the python script figure out which line to break on instead.</ns0:content><ns0:updated>2013-03-06T17:07:23.000Z</ns0:updated><ns0:published>2013-01-11T17:28:29.000Z</ns0:published><ns2:status>Fixed</ns2:status><ns2:cc>
			<ns2:uri>/u/mseaborn@chromium.org/</ns2:uri><ns2:username>mseaborn@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/jvoung@chromium.org/</ns2:uri><ns2:username>jvoung@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/109286297231979736865/</ns2:uri><ns2:username>mcgra...@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/112264824292994369940/</ns2:uri><ns2:username>eli...@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/112856509894568708731/</ns2:uri><ns2:username>halya...@google.com</ns2:username></ns2:cc><ns2:state>closed</ns2:state><ns0:title>Function prologues are marked with is_stmt dwarf flags, breaks gdb tests</ns0:title><ns2:label>Type-Defect</ns2:label><ns2:label>Mstone-26</ns2:label><ns2:label>Pri-2</ns2:label><ns2:label>Component-PNaCl</ns2:label><ns2:label>OS-All</ns2:label><ns2:label>Arch-x86-64</ns2:label><ns2:label>Arch-x86-32</ns2:label><ns0:link href="http://code.google.com/feeds/issues/p/nativeclient/issues/3255/comments/full" rel="replies" type="application/atom+xml" /><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=3255" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/full/3255" rel="self" type="application/atom+xml" /><ns2:stars>0</ns2:stars><ns2:blockedOn>
			<ns2:id>3308</ns2:id><ns2:project>nativeclient</ns2:project></ns2:blockedOn><ns2:closedDate>2013-03-06T17:07:23.000Z</ns2:closedDate><ns2:id>3255</ns2:id></ns0:entry>