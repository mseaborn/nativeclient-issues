<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;CkYBQn47eCl7ImA9WhVTFUk.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/2620/comments/full/3</ns0:id><ns0:author>
			<ns0:name>mcgra...@chromium.org</ns0:name><ns0:uri>/u/109286297231979736865/</ns0:uri></ns0:author><ns0:content type="html">Ubuntu's binutils has a bad backport (debian/patches/128_build_id.dpatch) of the fix for http://sourceware.org/bugzilla/show_bug.cgi?id=12451
that makes it examine SHT_NOBITS sections when it shouldn't.  In our case, this means it does a 1G malloc.

It's a trivial change to make it match the proper upstream fix, but Ubuntu/Debian never did it.  I checked Ubuntu versions through P (2.22-5ubuntu1) and they all have the same bad backport patch.  The upstream fix was after the 2.22 release and has not been backported upstream.  However, it's only the bad Debian patch that introduces the pathology you're seeing.

If you file a Goobuntu (or Ubuntu or Debian) bug report about it and CC me, I'll give them the details.  Or if you don't want to get it fixed in a distribution, you can just build trunk binutils yourself and install it on your machine.  The ld_bfd.py logic should find it even if you install it in someplace like /usr/local/bin (that's in your PATH).</ns0:content><ns0:updated>2012-02-29T18:29:13.000Z</ns0:updated><ns0:published>2012-02-29T18:29:13.000Z</ns0:published><ns2:updates /><ns0:title>Comment 3 by mcgra...@chromium.org</ns0:title><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=2620#c3" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/2620/comments/full/3" rel="self" type="application/atom+xml" /></ns0:entry>