<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;DEcBSH47eCl7ImA9WhVTEU0.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/full/687</ns0:id><ns0:author>
			<ns0:name>b...@google.com</ns0:name><ns0:uri>/u/105821748722532785568/</ns0:uri></ns0:author><ns0:content type="html">on linux, once swap is exhausted, the shm device has no place to swap pages out and it causes the kernel to lock up, rather than triggering the OOM killer.  not that that would be an ideal solution either.

we could try to impose resource allocation limits, but this should be a global resource manager's job.  in chrome, the plugin cannot do it, since there are different plugin instances (per renderer).  within the service runtime code itself, we could check how much space is left in /dev/shm, except that this strategy is still subject to a race condition.  and fstatvfs or fstatfs may not be currently allowed by the outer sandbox to read f_bfree and f_bavail.

whether this is also a problem on OSX is TBD, though a similar solution will probably work.  on windows shm is allocated from the paging file, so there &amp;quot;should't&amp;quot; be any problems other than normal OOM.</ns0:content><ns0:updated>2012-02-24T17:54:19.000Z</ns0:updated><ns0:published>2010-07-12T18:15:40.000Z</ns0:published><ns2:status>Available</ns2:status><ns2:cc>
			<ns2:uri>/u/105821748722532785568/</ns2:uri><ns2:username>b...@google.com</ns2:username></ns2:cc><ns2:state>open</ns2:state><ns0:title>excessive shm allocation can lock up linux</ns0:title><ns2:label>Type-Enhancement</ns2:label><ns2:label>Pri-2</ns2:label><ns2:label>OS-Linux</ns2:label><ns2:label>OS-Mac</ns2:label><ns2:label>Security</ns2:label><ns2:label>Component-TCB</ns2:label><ns2:label>Mstone-20</ns2:label><ns0:link href="http://code.google.com/feeds/issues/p/nativeclient/issues/687/comments/full" rel="replies" type="application/atom+xml" /><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=687" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/full/687" rel="self" type="application/atom+xml" /><ns2:stars>1</ns2:stars><ns2:id>687</ns2:id></ns0:entry>