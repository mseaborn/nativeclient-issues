<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;D04CRH47eCl7ImA9WhBTEU0.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/full/3188</ns0:id><ns0:author>
			<ns0:name>dsch...@google.com</ns0:name><ns0:uri>/u/104270846665912603141/</ns0:uri></ns0:author><ns0:content type="html">as of nacl r10346 (when the test was added) the performance test has failed on pnacl glibc with a glibc heap corruption error:

scons-out/opt-linux-x86-64/staging/nacl_helper_bootstrap scons-out/opt-linux-x86-64/staging/sel_ldr --r_debug=0xXXXXXXXXXXXXXXXX --reserved_at_zero=0xXXXXXXXXXXXXXXXX -a -- /mnt/data/b/build/slave/linux-pnacl-x86_64/build/native_client/toolchain/pnacl_linux_x86/lib-x86-64/runnable-ld.so --library-path /mnt/data/b/build/slave/linux-pnacl-x86_64/build/native_client/scons-out/nacl-x86-64-pnacl-glibc-clang/lib:/mnt/data/b/build/slave/linux-pnacl-x86_64/build/native_client/toolchain/pnacl_linux_x86/lib-x86-64 scons-out/nacl-x86-64-pnacl-glibc-clang/obj/tests/stubout_mode/partly_invalid_stubout.nexe
0.081 usec (8.13755e-08 sec) per iteration: 0.160862 sec for 1976792 iterations
/mnt/data/b/build/slave/linux-pnacl-x86_64/build/native_client/toolchain/pnacl_linux_x86/glibc/bin/pnacl-clang++ -arch x86-64 -Wl,-rpath-link,scons-out/nacl-x86-64-pnacl-glibc-clang/lib -Wl,-rpath-link,toolchain/pnacl_linux_x86/lib-x86-64 -Wl,-rpath-link,toolchain/pnacl_linux_x86/glibc/lib -Wl,-rpath-link,scons-out/nacl-x86-64-pnacl-glibc-clang/lib -O3 scons-out/nacl-x86-64-pnacl-glibc-clang/obj/tests/syscall_return_sandboxing/raw_thread_create_bad_address.bc -Lscons-out/nacl-x86-64-pnacl-glibc-clang/lib -Ltoolchain/pnacl_linux_x86/lib-x86-64 -Ltoolchain/pnacl_linux_x86/glibc/lib -Lscons-out/nacl-x86-64-pnacl-glibc-clang/lib -o scons-out/nacl-x86-64-pnacl-glibc-clang/obj/tests/syscall_return_sandboxing/thread_create_bad_address.nexe
0.052 usec (5.21808e-08 sec) per iteration: 0.103151 sec for 1976792 iterations
/mnt/data/b/build/slave/linux-pnacl-x86_64/build/native_client/toolchain/pnacl_linux_x86/glibc/bin/pnacl-clang++ -std=gnu++98 -Wno-long-long -Wno-c++11-extensions -O2 -g -fomit-frame-pointer -Wall -Wundef -fdiagnostics-show-option -pedantic -Werror -Wno-variadic-macros -Wno-array-bounds -Wno-extra-semi -Wno-unused-private-field -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=64 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -D_GNU_SOURCE=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DDYNAMIC_ANNOTATIONS_PREFIX=NACL_ -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=0 -DNACL_ANDROID=0 -Iscons-out/nacl-x86-64-pnacl-glibc-clang/include -I/mnt/data/b/build/slave/linux-pnacl-x86_64/build -c -o scons-out/nacl-x86-64-pnacl-glibc-clang/obj/tests/syscalls/exit_test.bc tests/syscalls/exit_test.cc
0.071 usec (7.1185e-08 sec) per iteration: 0.140718 sec for 1976792 iterations
mean:   0.075 usec
stddev: 0.022 usec
relative stddev: 29.33%
RESULT TestUncontendedMutexLock: linux_x86-64_glibc_nonirt= {0.075, 0.022} microseconds
[1308,3217106688:12:02:00.895955] Invalid open flags 04402, ignoring extraneous bits
[1308,3217106688:12:02:00.896007] NaClHostDescOpen: file type 0x21b6, not regular
*** glibc detected *** scons-out/nacl-x86-64-pnacl-glibc-clang/obj/tests/performance/performance_test.nexe: free(): invalid next size (fast): 0x10070018 ***

ERROR: Command returned exit status -11 (0xfffffff5) but we expected 0 (0x0)</ns0:content><ns0:updated>2013-02-05T23:12:45.000Z</ns0:updated><ns0:published>2012-12-04T16:58:24.000Z</ns0:published><ns2:status>New</ns2:status><ns2:cc>
			<ns2:uri>/u/102292187274959663599/</ns2:uri><ns2:username>jvo...@google.com</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/robertm@google.com/</ns2:uri><ns2:username>robertm@google.com</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/112264824292994369940/</ns2:uri><ns2:username>eli...@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/108394971971967673680/</ns2:uri><ns2:username>s...@google.com</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/dschuff@chromium.org/</ns2:uri><ns2:username>dschuff@chromium.org</ns2:username></ns2:cc><ns2:state>open</ns2:state><ns0:title>performance_test on pnacl glibc reports memory corruption</ns0:title><ns2:label>Type-Defect</ns2:label><ns2:label>Mstone-X</ns2:label><ns2:label>Pri-3</ns2:label><ns2:label>Component-PNaCl</ns2:label><ns2:label>OS-All</ns2:label><ns2:label>Arch-x86-64</ns2:label><ns2:label>SharedLibrary</ns2:label><ns0:link href="http://code.google.com/feeds/issues/p/nativeclient/issues/3188/comments/full" rel="replies" type="application/atom+xml" /><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=3188" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/full/3188" rel="self" type="application/atom+xml" /><ns2:stars>1</ns2:stars><ns2:id>3188</ns2:id></ns0:entry>