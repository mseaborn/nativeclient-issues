<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;CkAGQn47eCl7ImA9Wx9WFkg.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/892/comments/full/2</ns0:id><ns0:author>
			<ns0:name>bugdro...@chromium.org</ns0:name><ns0:uri>/u/101788990881243245974/</ns0:uri></ns0:author><ns0:content type="html">The following revision refers to this bug:
    http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=3355

------------------------------------------------------------------------
r3355 | eugenis@google.com | Fri Sep 24 05:59:28 PDT 2010

Changed paths:
 M http://src.chromium.org/viewvc/chrome/trunk/src/native_client/src/untrusted/valgrind/valgrind_interceptors.c?r1=3355&amp;r2=3354&amp;pathrev=3355
 M http://src.chromium.org/viewvc/chrome/trunk/src/native_client/src/third_party/valgrind/nacl.supp?r1=3355&amp;r2=3354&amp;pathrev=3355
 M http://src.chromium.org/viewvc/chrome/trunk/src/native_client/tests/memcheck_test/memcheck_test.stderr.golden?r1=3355&amp;r2=3354&amp;pathrev=3355

Change Valgrind interceptors to rewrite newlib-internal _malloc_r (and friends) instead of normal malloc (and friends).

This allows tools (TSan and Memcheck) to see more (and, hopefully, all that matter) memory allocations.
This will need to be either reverted of #ifdef'd for GlibC.

BUG=http://code.google.com/p/nativeclient/issues/detail?id=892
Review URL: http://codereview.chromium.org/3503001
------------------------------------------------------------------------</ns0:content><ns0:updated>2011-01-21T22:58:43.000Z</ns0:updated><ns0:published>2011-01-21T22:58:43.000Z</ns0:published><ns2:updates /><ns0:title>Comment 2 by bugdro...@chromium.org</ns0:title><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=892#c2" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/892/comments/full/2" rel="self" type="application/atom+xml" /></ns0:entry>