<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;DEUFQ347eCl7ImA9WhFTGUU.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/full/3429</ns0:id><ns0:author>
			<ns0:name>eli...@google.com</ns0:name><ns0:uri>/u/114831583435496442738/</ns0:uri></ns0:author><ns0:content type="html">Currently setjmp and longjmp are external symbols pexes depend on. We have their declaration in newlib's &amp;lt;setjmp.h&amp;gt;, and pexe linking is resolved with the help of pnacl_abi.bc which uses the pseudo-shared-link hack to make the linker believe the symbols are available externally. The resulting pexe then has calls to setjmp and longjmp as functions.

These are satisfied during the native link, where the actual symbols are found in libcrt_platform.a (they get there with all the other native support libs; the implementation itself is in pnacl/support/setjmp_*.S

In the PNaCl stable bitcode ABI this dependency should not exist. Rather, pexes have to refer to setjmp/longjmp via LLVM intrinsics, which get resolved by the translator to actual library calls.
</ns0:content><ns0:updated>2013-06-11T21:30:12.000Z</ns0:updated><ns0:published>2013-05-07T23:08:05.000Z</ns0:published><ns2:status>Fixed</ns2:status><ns2:owner>
			<ns2:uri>/u/112264824292994369940/</ns2:uri><ns2:username>eli...@chromium.org</ns2:username></ns2:owner><ns2:cc>
			<ns2:uri>/u/mseaborn@chromium.org/</ns2:uri><ns2:username>mseaborn@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/jvoung@chromium.org/</ns2:uri><ns2:username>jvoung@chromium.org</ns2:username></ns2:cc><ns2:cc>
			<ns2:uri>/u/dschuff@chromium.org/</ns2:uri><ns2:username>dschuff@chromium.org</ns2:username></ns2:cc><ns2:state>closed</ns2:state><ns0:title>Convert setjmp/longjmp calls in stable bitcode to intrinsics</ns0:title><ns2:label>Type-Enhancement</ns2:label><ns2:label>Pri-1</ns2:label><ns2:label>Component-PNaCl</ns2:label><ns2:label>OS-All</ns2:label><ns2:label>PNaClABI</ns2:label><ns0:link href="http://code.google.com/feeds/issues/p/nativeclient/issues/3429/comments/full" rel="replies" type="application/atom+xml" /><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=3429" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/full/3429" rel="self" type="application/atom+xml" /><ns2:stars>2</ns2:stars><ns2:blocking>
			<ns2:id>3339</ns2:id><ns2:project>nativeclient</ns2:project></ns2:blocking><ns2:closedDate>2013-06-05T04:12:04.000Z</ns2:closedDate><ns2:id>3429</ns2:id></ns0:entry>