<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;D0QAQH47eCl7ImA9WhVaFkQ.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/full/278</ns0:id><ns0:author>
			<ns0:name>cbiffle@google.com</ns0:name><ns0:uri>/u/cbiffle@google.com/</ns0:uri></ns0:author><ns0:content type="html">In NaCl/ARM SDKs built as recently as yesterday, I occasionally encounter 
an issue with debug symbol generation.  We produce a label, .Lfunc_end2, at 
the end of each function.  The problem is that *every* function's label is 
named .Lfunc_end2, so if these occur together in a translation unit, the 
assembler/linker freak out.

The easiest (but not the fastest) way to reproduce this is by editing the 
build-phase2-libgcc.sh script in tools/llvm.  In this script, I explicitly 
pass CFLAGS to the GCC 'make' command, because the default setting includes 
-g.  Removing the &amp;quot;CFLAGS=-O2&amp;quot; re-enables -g and causes the bug to surface.

The symbols appear to be generated by llc (not the frontend) and only when 
our SFI patches are present, but I'm not 100% certain of either of these.  
I haven't tested it very rigorously.
</ns0:content><ns0:updated>2012-06-14T17:35:41.000Z</ns0:updated><ns0:published>2010-01-28T21:38:57.000Z</ns0:published><ns2:status>Obsolete</ns2:status><ns2:owner>
			<ns2:uri>/u/robertm@google.com/</ns2:uri><ns2:username>robertm@google.com</ns2:username></ns2:owner><ns2:state>closed</ns2:state><ns0:title>ARM compiler generates duplicate labels when producing debug info</ns0:title><ns2:label>Type-Defect</ns2:label><ns2:label>Component-GCC</ns2:label><ns2:label>Arch-ARM</ns2:label><ns2:label>Pri-1</ns2:label><ns2:label>Component-PNaCl</ns2:label><ns2:label>Mstone-X</ns2:label><ns0:link href="http://code.google.com/feeds/issues/p/nativeclient/issues/278/comments/full" rel="replies" type="application/atom+xml" /><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=278" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/full/278" rel="self" type="application/atom+xml" /><ns2:stars>2</ns2:stars><ns2:closedDate>2012-06-14T17:35:41.000Z</ns2:closedDate><ns2:id>278</ns2:id></ns0:entry>