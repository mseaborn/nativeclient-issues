<ns0:entry xmlns:ns0="http://www.w3.org/2005/Atom" xmlns:ns1="http://schemas.google.com/g/2005" xmlns:ns2="http://schemas.google.com/projecthosting/issues/2009" ns1:etag="W/&quot;A0QCR347eCl7ImA9WhVREUs.&quot;">
		<ns0:id>http://code.google.com/feeds/issues/p/nativeclient/issues/full/1898</ns0:id><ns0:author>
			<ns0:name>mball@google.com</ns0:name><ns0:uri>/u/mball@google.com/</ns0:uri></ns0:author><ns0:content type="html">&lt;b&gt;What version of the SDK are you using?&lt;/b&gt;
N/A
&lt;b&gt;What version of the runtime are you using?&lt;/b&gt;
NaCl svn r5581
&lt;b&gt;On what operating system?&lt;/b&gt;
Ubuntu Linux 10.04 64-bit
&lt;b&gt;What browser are you using?&lt;/b&gt;
N/A
&lt;b&gt;Please include version information for both the OS and the browser.&lt;/b&gt;

&lt;b&gt;What steps will reproduce the problem?&lt;/b&gt;
1. Run the nacl-lucid64-pnacl1 bot
2. Alternatively, run this command from a NaCl svn checkout:
./scons --verbose bitcode=1 -k --mode=opt-host,nacl -j8 use_sandboxed_translator=1 platform=x86-32 smoke_tests


&lt;b&gt;What is the expected output? What do you see instead?&lt;/b&gt;

I expect to see no build warnings or errors.  Instead I get this output during the nacl_base_test of the '[smoke_tests] [use_sandboxed_translator=1]' stage:


======================================================================
running ['/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_test']
======================================================================
/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_test
gio_nacl_desc_test.out: PASSED
Test /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/test_results/nacl_base_test.out took 0.010000 secs
nacl_base_test.out: PASSED
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_array_c_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_array_test.c
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_pointer_ok_c_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_pointer_ok_test.c
src/trusted/nacl_base/nacl_base_assert_is_array_test.c: In function 'main':
src/trusted/nacl_base/nacl_base_assert_is_array_test.c:23: error: size of array '__is_array__' is negative
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_pointer_c_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_pointer_test.c
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_array_size_ok_c_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_array_size_ok_test.c
src/trusted/nacl_base/nacl_base_assert_is_pointer_test.c: In function 'main':
src/trusted/nacl_base/nacl_base_assert_is_pointer_test.c:23: error: lvalue required as increment operand
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_array_size_c_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_array_size_test.c
g++ -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_array_cxx_test.o -c -std=c++98 -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_array_test.c
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_array_ok_cxx_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_array_ok_test.c
cc1: warnings being treated as errors
src/trusted/nacl_base/nacl_base_array_size_test.c: In function 'main':
src/trusted/nacl_base/nacl_base_array_size_test.c:23: error: passing argument 1 of 'NaClArrayCheckHelper' makes pointer from integer without a cast
/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/src/include/nacl_macros.h:126: note: expected 'void *' but argument is of type 'int'
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_pointer_ok_cxx_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_pointer_ok_test.c
src/trusted/nacl_base/nacl_base_assert_is_array_test.c: In function 'int main()':
src/trusted/nacl_base/nacl_base_assert_is_array_test.c:23: error: no matching function for call to 'NaClArraySizeHelper(char*&amp;amp;)'
src/trusted/nacl_base/nacl_base_assert_is_array_test.c:23: error: '__array__' was not declared in this scope
g++ -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_assert_is_pointer_cxx_test.o -c -std=c++98 -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_assert_is_pointer_test.c
gcc -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_array_size_ok_cxx_test.o -c -std=gnu99 -Wdeclaration-after-statement -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_array_size_ok_test.c
g++ -o scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_base_array_size_cxx_test.o -c -std=c++98 -m32 -Wall -pedantic -Wextra -Wno-long-long -Wswitch-enum -Wsign-compare -fvisibility=hidden -Werror -O2 -DNACL_WINDOWS=0 -DNACL_OSX=0 -DNACL_LINUX=1 -D_BSD_SOURCE=1 -D_POSIX_C_SOURCE=199506 -D_XOPEN_SOURCE=600 -D_GNU_SOURCE=1 -D_LARGEFILE64_SOURCE=1 -D__STDC_LIMIT_MACROS=1 -D__STDC_FORMAT_MACROS=1 -DNACL_STANDALONE=1 -DNACL_BLOCK_SHIFT=5 -DNACL_BLOCK_SIZE=32 -DNACL_BUILD_ARCH=x86 -DNACL_BUILD_SUBARCH=32 -DNACL_TARGET_ARCH=x86 -DNACL_TARGET_SUBARCH=32 -DNDEBUG -I/mnt/data/b/build/slave/nacl-lucid64-pnacl1/build src/trusted/nacl_base/nacl_base_array_size_test.c
src/trusted/nacl_base/nacl_base_assert_is_pointer_test.c: In function 'int main()':
src/trusted/nacl_base/nacl_base_assert_is_pointer_test.c:23: error: lvalue required as increment operand
/usr/bin/python /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/tools/command_tester.py --name /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/test_results/nacl_min_max_test.out --report /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/test_results/nacl_min_max_test.out --time_warning 2 --time_error 20 --perf_env_description x86-32_pnacl_newlib_static /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_min_max_test
src/trusted/nacl_base/nacl_base_array_size_test.c: In function 'int main()':
src/trusted/nacl_base/nacl_base_array_size_test.c:23: error: no matching function for call to 'NaClArraySizeHelper(char*&amp;amp;)'
/usr/bin/python /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/tools/command_tester.py --name /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/test_results/nacl_min_max_cpp_test.out --report /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/test_results/nacl_min_max_cpp_test.out --time_warning 2 --time_error 20 --perf_env_description x86-32_pnacl_newlib_static /mnt/data/b/build/slave/nacl-lucid64-pnacl1/build/native_client/scons-out/opt-linux-x86-32/obj/src/trusted/nacl_base/nacl_min_max_cpp_test




&lt;b&gt;Please provide any additional information below and attach any relevant&lt;/b&gt;
&lt;b&gt;source files.&lt;/b&gt;

This output has lots of errors.  Should this be considered a failed test?</ns0:content><ns0:updated>2012-03-19T15:02:46.000Z</ns0:updated><ns0:published>2011-06-08T16:41:23.000Z</ns0:published><ns2:status>Assigned</ns2:status><ns2:owner>
			<ns2:uri>/u/110304265766688778552/</ns2:uri><ns2:username>bradc...@google.com</ns2:username></ns2:owner><ns2:state>open</ns2:state><ns0:title>Suspicious output in nacl_base_test during the smoke tests</ns0:title><ns2:label>Type-Defect</ns2:label><ns2:label>Pri-2</ns2:label><ns2:label>Component-Infrastructure</ns2:label><ns2:label>OS-Linux</ns2:label><ns2:label>Arch-x86-32</ns2:label><ns2:label>Mstone-20</ns2:label><ns0:link href="http://code.google.com/feeds/issues/p/nativeclient/issues/1898/comments/full" rel="replies" type="application/atom+xml" /><ns0:link href="http://code.google.com/p/nativeclient/issues/detail?id=1898" rel="alternate" type="text/html" /><ns0:link href="https://code.google.com/feeds/issues/p/nativeclient/issues/full/1898" rel="self" type="application/atom+xml" /><ns2:stars>0</ns2:stars><ns2:id>1898</ns2:id></ns0:entry>